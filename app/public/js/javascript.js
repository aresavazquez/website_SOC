var host_url = location.protocol + "//" + location.host + "/" || "http://nueva.socasesores.com/";

function showModal(modalName){
    if( modalName == 'aviso' ){
        $('#siteModal .modal-header .modal-title').text('Aviso de Privacidad');
        $('#siteModal .modal-body').html('<p>En cumplimiento a lo dispuesto por la Ley Federal de Protección de Datos Personales en Posesión de los Particulares, publicada en el Diario Oficial de la Federación el día 5 de Julio de 2010,<br><br> SINERGIA SOC S.A. de C.V. hace del conocimiento del público en general lo siguiente: La Identidad y Domicilio del Responsable<br><br> Sinergia SOC S.A. de C.V.<br> Con domicilio en Calle Hamburgo Nº 227<br> Col. Juárez, Delegación Cuauhtémoc<br> C.P.06600 México D.F.<br> Tel. 30-96-10-31.</p><h3>Las Finalidades Del Tratamiento De Datos</h3><p>Los datos personales que se encuentran en las bases de datos de SINERGIA SOC S.A. de C.V. y de sus subsidiarias y filiales son utilizados para la prestación de los servicios de asesoría financiera y de inversión, así como de promoción, comercialización y publicidad de créditos y préstamos de cualquier naturaleza ofrecidos por terceras personas y la tramitación y gestión de los mismos ante dichas terceras personas. La mediación, gestión o asesoría a personas morales o físicas para la obtención de los créditos ante entidades financieras o la comisión o representación o prestación de servicios especializados en el ramo hipotecario y financiero; así como también la prestación de otros servicios relacionados con el negocio hipotecario o inmobiliario y demás actividades necesarias. Contratar, reclutar, seleccionar y capacitar personal con la finalidad de proporcionar servicios laborales en las áreas administrativas, informáticas y de servicios de apoyo a personas físicas y morales. Para llevar a cabo nuestra labor se utilizan datos personales de carácter general y datos patrimoniales.</p><h3>Opciones y Medidas para Limitar el Uso o Divulgación de los Datos</h3><p>Para restringir, limitar o controlar tus datos personales, SINERGIA SOC S.A. de C.V. cuenta siempre con medidas de Seguridad para evitar su divulgación, implementando diversos controles de seguridad y protección de la información en sus servidores, equipos de cómputo y redes informáticas. De igual manera en la utilización de información de forma física se efectúa un estricto control de vigilancia por parte del personal, quien además se adhiere desde el momento de su ingreso a las cláusulas de confidencialidad de la empresa.</p><p>Puedes Acceder, Rectificar, Cancelar tus datos personales, así como Oponerte (ejercicio de tus derechos ARCO) al tratamiento de los mismos o en su caso revocar el consentimiento para el fin que nos los hayas otorgado a través de tu solicitud.</p><p>Las medidas para ejercer los derechos de acceso, rectificación, cancelación u oposición de conformidad a lo dispuesto en esta Ley y Procedimiento por el cual el responsable comunicara a los titulares de cambios al aviso de privacidad de conformidad con lo previsto en esta Ley.</p><p>El titular podrá ejercer estos derechos, por si mismos o a través de su representante legal por medio de una solicitud dirigida a SINERGIA SOC S.A. DE C.V. que contenga como mínimo los siguientes datos:</p><ul> <li>Nombre del titular.</li><li>Domicilio para recibir respuesta a la solicitud.</li><li>Documentos con que acredite su identidad el titular o larepresentación legal.</li><li>Descripción clara y precisa de los datos personales sobre los que ejercerá sus derechos.</li><li>Cualquier elemento que facilite la localización de datos personales.</li></ul><p>Dicha solicitud y documentos podrán presentarse físicamente en el domicilio de Sinergia SOC S.A. de C.V. ò por medio de documentos digitalizados a la cuenta de email: arco@socasesores.com a la que recaerá respuesta en un plazo máximo de 20 días hábiles contados desde la fecha de recepción de la solicitud y cubriendo previamente los gastos de envío que se pudieran generar por el envío de la información.</p><h3>Transferencia de Datos que se Efectúen</h3><p>SINERGIA SOC S.A. DE C.V. evitará siempre la transferencia de datos. Solo en caso de ser necesario por así requerirlo las actividades que correspondan al giro de la empresa y por mandato judicial se efectuará la transferencia de los datos personales con el cuidado, medidas y controles necesarios para el manejo de la información de tipo confidencial de la empresa.</p><h3>Procedimiento y Medio por el cual se Comunicará a los Titulares de Cambios al Aviso de Privacidad.</h3><p>Sinergia SOC S.A. de C.V. se reserva el derecho de realizar modificaciones al Aviso de Privacidad. Para dar a conocer los cambios en el Aviso de Privacidad a los titulares se comunicará a través de la página web <a href="http://www.socasesores.com">www.socasesores.com</a> y en todo caso se aplicarán las medidas compensatorias que refiere la ley.</p>');
    }else if( modalName == 'termino'){
        $('#siteModal .modal-header .modal-title').text('Términos y Condiciones');
        $('#siteModal .modal-body').html('<h3>1. INTRODUCCIÓN AL SERVICIO Y ACEPTACIÓN DE LAS CONDICIONES DE USO</h3> <p><strong>1.1 Introducción</strong></p><p>Sinergia SOC S.A de C.V. (“SOC”, nosotros), una compañía debidamente constituida e incorporada a las leyes de los Estados Unidos Mexicanos, ofrece el servicio de asesoría hipotecaria integral (asesoría de especialistas en los productos, procesos, políticas y requisitos de las opciones financieras más importantes del mercado), el cual brinda una serie de programas (simuladores) y otros contenidos audiovisuales de manera conjunta el (“Contenido”) a través de nuestras páginas que integran el portal de www.socasesores.com (“el sitio”) nuestra herramienta para ver el contenido y ciertas aplicaciones que le permiten acceder al mismo (de manera conjunta, el Servicio” o los “Servicios” ). Estos términos y condiciones detallados, que incluyen la política de Privacidad que se encuentran en <a href="./aviso.html">http://www.socasesores.com/aviso.html.</a></p><p><strong>1.2 Aceptación de las Condiciones de Uso </strong></p><p>Para acceder y disfrutar de los Servicios, debe aceptar y en todo momento seguir las disposiciones que se establecen en los términos. Al usar los Servicios (incluyendo al acceso del contenido), usted acepta cumplir con las condiciones de Uso, por lo que pedimos dedique un tiempo a revisar cuidadosamente y si no está de acuerdo con las mismas, deberá abstenerse de acceder a utilizar el sitio.</p><p><strong>1.3 El Servicio </strong></p><p>Ofrecemos los servicios de asesoría hipotecaria integral <strong>(asesoría de especialistas en los productos, procesos, políticas y requisitos de las opciones financieras más importantes del mercado)</strong>. Las referencias a los “Servicios” o el “Servicio” a lo largo de estas condiciones.</p><h3>2. MODIFICACIÓN DE LAS CONDICIONES DE USO POR “SOC” </h3> <p>“SOC” puede modificar las condiciones de Uso (incluyendo la política de privacidad) en cualquier momento, a su discreción, las cuales surtirían efectos en el momento en que se publiquen las Condiciones de Uso modificadas en nuestro sitio. La versión más actual de las Condiciones de Uso prevalecerá sobre tosas las versiones previstas. </p><h3>3. ACCESO Y USO DE LOS SERVICIOS</h3> <p><strong>3.1 El contenido </strong></p><p>“SOC” no, promueve, aprueba o permite se copien, programas u otros contenidos entregados digitalmente, ni otras actividades delictivas. Usted no puede, ya sea directamente o con el uso de dispositivos, software, sitios de internet, servicios basados en web u otros medios. (a) retirar, alterar, eludir, evitar, o interferir avisos, de derechos de autor, marcas u otro tipo de aviso de propiedad insertados en el Contenido, o mecanismos de administración de derechos digitales , dispositivos u otras protecciones de contenido o medidas de control de acceso del contenido, ni (b) copiar, descargar (excepto a través de la memoria de almacenamiento personal de la página necesaria para uso personal, o como expresamente se permite en las Condiciones de uso ) modificar, distribuir , transmitir, mostrar, efectuar, reproducir, exhibir , duplicar, publicar, licenciar. Crear obras derivadas u ofrecer para la venta el contenido u otra información contenida u obtenida de o a través del servicio, sin nuestro consentimiento expreso por escrito. No puede incorporar el contenido, ni hacer streming o retransmitirlo en aplicaciones de hardware o de software, ni ponerlo a disposición a través de enmarcados o vínculos en línea, a menos de que “SOC” expresamente lo permita por escrito. Además, no puede crear, recrear, distribuir o publicar un índice de la parte sustancial del contenido, a menos de que “SOC” expresamente lo autorice; tampoco puede crear un negocio utilizando el contenido, ya sea con fines de lucro o no. el contenido al que aplican estas restricciones incluye, entre otros, textos, gráficos, configuraciones, interfaces, logotipos, fotografías, materiales de audio y video y fonogramas. Así mismo, se le prohíbe estrictamente crear obras derivadas o materiales que provengan o se basen en cualquier firma en el contenido, incluyendo montajes, fondos de escritorio, protector de pantalla, tarjetas de saludos.</p><h3>4. COMO FUNCIONA EL SERVICIO </h3> <p><strong>4.1 Descripción General</strong></p><p>“SOC” es un servicio que ofrece al público acceso al portal por internet para ofrecer asesoría hipotecaria. Nos reservamos el derecho, a nuestra absoluta y exclusiva discreción, de hacer cambios en cualquier momento y sin notificación, sobre la forma en que manejamos el servicio, por lo que las descripciones de cómo funciona el servicio no debe considerarse como una declaración u obligación respecto a cómo funcionara siempre.</p><h3>5.- PROPIEDAD Y DERECHOS DE PROPIEDAD INTELECTUAL.</h3> <p>El servicio , incluyendo todo el contenido, software, interfaces de usuario , textos gráficos , logotipos, diseños, fotografías, iconos de botones, imágenes, videoclips, y audio, descargas digitales, compilaciones de todos y software que se incluyan en “sitio-web” y/o que se entregan al usuario como parte del servicio, son bienes de “SOC” o de sus licenciantes o proveedores de contenido, y están protegidos por leyes de las Entidades Federativas e Internacionales , de derechos de autor , marcas, secretos industriales, o de propiedad intelectual de otro tipo . Toda la propiedad intelectual de “SOC” que sea una marca, logotipo o marca de servicio también es una marca registrada o no registrada de “SOC” o de otros. Se prohíbe estrictamente el uso de la PI de “SOC” excepto de conformidad con estas condiciones de usos, sin el permiso por escrito de los dueños de dicha Propiedad Intelectual. También se le informa que “SOC” ejercerá con firmeza sus derechos de propiedad intelectual en la medida más amplia permitida por la ley. </p><h3>6.- RESPONSABILIDADES QUE LE CORRESPONDEN Y RESTRICCIONES EN EL USO.</h3> <p>Las siguientes Normas de conducta se aplican al sitio y a los Servicios y usted se obliga a no utilizar el sitio y Servicios de manera que:</p><ul> <li>Violen los derechos de otros, incluyendo derechos de patentes, marcas secretos industriales, derechos de autor, privacidad, publicidad u otros, derechos de propiedad intelectual.</li><li>Usen, transfieran, distribuyan o dispongan de la información que contiene el Servicio en cualquier forma que podría competir con el negocio de “SOC” o cualquiera de sus filiales.</li><li>Resulten en el envío de correo electrónico no solicitado o spam, o en que se recopile información acerca de usuarios con el propósito de enviarles correo electrónico no solicitado o spam; introduzcan virus o códigos, archivos o programas de cómputo de otro tipo que interrumpan, destruyan o limiten la funcionalidad de software o hardware de cualquier equipo de telecomunicación.</li><li>Dañen, inhabiliten, sobrecarguen, perjudiquen u obtengan acceso no autorizado a los Servicios, incluyendo Servidores de “SOC”, redes de cómputo o cuentas de usuarios.</li><li>Retiren, modifiquen, inhabiliten, bloqueen, oculten o de otra forma afecten la publicidad relacionada con los Servicios (incluyendo el Contenido).</li><li>Utilicen los Servicios para publicitar o promover servicios que “SOC” no haya aprobado por escrito previamente.</li><li>Recaben información personal identificable violando la Política de Privacidad de “SOC”.</li><li>Alienten conductas que constituirían un delito o den lugar a responsabilidad civil.</li><li>Violen estas Condiciones de Uso, o lineamientos o políticas publicados por “SOC”.</li><li>Interfieran con el uso de otro usuario o su disfrute del Servicio.</li><li>Intenten realizar cualquiera de las acciones anteriores.</li></ul> <p>No podemos asegurar –y no lo aseguramos– que otros usuarios cumplen o cumplirán con estas normas de conducta u otras disposiciones de las Condiciones de Uso y, en lo que compete a usted y a nosotros, en este acto usted asume todos los riesgos de daños o perjuicios que resulten de dicha falta de cumplimiento.</p><h3>7.- PRIVACIDAD Y PREFERENCIAS DE COMUNICACIONES</h3> <p>Para obtener información acerca de uso de su información personal, o de la Política de Privacidad. La Política de Privacidad se incorpora en estas Condiciones de Uso y es parte de los mismos; por lo tanto, al convenir en las Condiciones de Uso, también acuerda que el uso de los Servicios se regirá por la Política de Privacidad vigente en la fecha de uso. La información personal proporcionada a través del Servicio está sujeta a nuestra Política de Privacidad.</p><h3>8.- EXTENCIÓN DE GARANTÍAS, LIMITACIÓN DE RESPONSABILIDAD E INDEMNIZACIÓN</h3> <p>USTED ACUERDA QUE EL USO DE LOS SERVICIOS ES A SU PROPIO RIESGO. LOS SERVICIOS, INCLUYENDO EL SITIO, EL CONTENIDO, EL SOFTWARE, EL MATERIAL DEL USUARIO Y CUALQUIER OTRO MATERIAL QUE CONTENGA O SE PROPORCIONE EN EL SITIO, SE PROPORCIONAN “EN LA CONDICIÓN QUE SE ENCUENTRA” Y, EN LA MEDIDA MÁS AMPLIA PERMITIDA POR LA LEY, SE PROPORCIONAN SIN GARANTÍAS DE NINGUNA CLASE, YA SEA EXPRESAS O IMPLÍCITAS. SIN LIMITAR LO ANTERIOR, “SOC" NO EMITE NINGUNA GARANTÍA DE IDONEIDAD PARA UN FIN ESPECÍFICO, TITULARIDAD, COMERCIABILIDAD, INTEGRIDAD, DISPONIBILIDAD, SEGURIDAD, COMPATIBILIDAD O INEXISTENCIA DE VIOLACIONES; O QUE LOS SERVICIOS SERÁN ININTERRUMPIDOS O QUE NO TENDRÁN VIRUS U OTROS COMPONENTES DAÑINOS, O QUE SERÁN PRECISOS, SIN ERRORES O CONFIABLES. EN NINGÚN CASO, “SOC”, SUS AFILIADAS, SUBSIDIARIAS, EMPLEADOS, AGENTES Y PROVEEDORES (INCLUYENDO DISTRIBUIDORES Y LICENCIANTES DE CONTENIDO), SERÁN RESPONSABLES DE DAÑOS Y PERJUICIOS DIRECTOS, INDIRECTOS, PUNITIVOS, INCIDENTALES, ESPECIALES, RESULTANTES O DE OTRA NATURALEZA, QUE RESULTEN O EN CUALQUIER FORMA SE RELACIONEN CON EL USO DE LOS SERVICIOS DE “SOC”.</p><h3>9.- NOTIFICACIÓN Y PROCEDIMIENTO PARA PRESENTAR RECLAMACIONES DE VIOLACIONES DE DERECHO.</h3> <p>Si usted considera que el Contenido, el Material del Usuario o el material de otro tipo que se proporciona a través del Servicio, incluso a través de un vínculo, viola sus derechos de autor, deberá notificar a “SOC” la reclamación de violación de acuerdo con el procedimiento que se prevé más adelante. Procesaremos todas las notificaciones de presuntas violaciones que “SOC” reciba y tomaremos las medidas apropiadas de acuerdo con las leyes de propiedad intelectual aplicables. La notificación de una reclamación de violación de derecho de autor deberá enviarse por correo electrónico al representante de derechos de autor de “SOC”, Andrea Zamora Reyes. También puede contactarnos por correo <a href="">azamora@socasesores.com</a>. <br><br>Para que sea válida, la notificación debe efectuarse por escrito e incluir la siguiente información: (a) firma electrónica o física de la persona autorizada a actuar por cuenta del propietario de un derecho de autor exclusivo; (b) descripción de la obra protegida por derechos de autor que usted reclama se ha violado; (c) una descripción de la ubicación en el Servicio del material que usted reclama que se está violando que sea razonablemente suficiente para permitir a “SOC” identificar y ubicar el material; (d) cómo puede “SOC” ponerse en contacto con usted, por ejemplo su domicilio, número telefónico y correo electrónico; (e) declaración por usted de que cree de buena fe que el uso en controversia no está autorizado por el propietario del derecho de autor, su representante o la ley; y (f) declaración por usted de que la información anterior en la notificación es exacta, que usted es el propietario del derecho de autor o el propietario de un derecho exclusivo sobre el material, o que está autorizado a actuar por cuenta de este. Los correos electrónicos enviados a: <a href="">azamora@socasesores.com</a>, para fines distintos a comunicar violaciones de derechos de autor no serán respondidos.</p><h3>10.- JURISDICCIÓN.</h3> <p>Estos términos y condiciones están regidos por, e interpretados de acuerdo a, las leyes y tribunales competentes en el Distrito Federal, sin importar el lugar en donde llegase a generarse la disputa que resulte en relación con estos términos y condiciones o cualquier disputa que resulte en relación con el sitio web- servicio ya sea en contrato o perjuicio o de otra manera, las autoridades locales no tendrán jurisdicción alguna.</p><h3>11.- DISPOSICIONES GENERALES.</h3> <p><strong>11.1 Comunicaciones Electrónicas </strong></p><p>Al utilizar el Servicio, usted aprueba recibir comunicaciones electrónicas de “SOC”, las cuales pueden incluir notificaciones, correos electrónicos de confirmación e información de operaciones de otro tipo, así como información concerniente o relativa a nuestro Servicio, y puede incluir boletines y comunicaciones promocionales de nosotros, sino han sido canceladas. Usted acepta que las notificaciones, acuerdos, divulgaciones u otras comunicaciones que le enviemos electrónicamente cumplirán con las disposiciones legales sobre comunicaciones, incluso que sean por escrito; asimismo, acuerda en actualizar su información personal inmediatamente de que haya un cambio en la dirección de su correo electrónico.</p>');
    }
    $('#siteModal').modal();
}

$.fn.uploader = function(uploadUrl, inputName, hideImage, label) {
    return this.each(function(index,item){
    	var dropLabel = label || 'Arrastra una imagen aquí si deseas cambiar la imagen del artículo';
    	var name = inputName || 'image';
    	name += '[' + index + ']';
        
        var input = $('<input />', {name: name, type: 'hidden'});
        var img = $('<img />');
        var dropzone = $(this);
        var file = null;

        dropzone.parent().append(input);
        dropzone.text(dropLabel);

        dropzone.on('dragover', function(e){
            e.stopPropagation();
            e.preventDefault();
            e.originalEvent.dataTransfer.dropEffect = 'copy';
            dropzone.text('Suelta la imagen aquí');
        });
        dropzone.on('drop', function(e){
            e.stopPropagation();
            e.preventDefault();
            file = e.originalEvent.dataTransfer.files[0];
            dropzone.uploadFile();
            dropzone.text('Subiendo...');
        });
        dropzone.uploadFile = function(){
            var fd = new FormData();
            var xhr = new XMLHttpRequest();
                    
            xhr.upload.addEventListener('progress', function(e){
                if(e.lengthComputable){
                    dropzone.trigger('progress', {percentage: e.loaded / e.total * 90});
                    dropzone.text('Subiendo '+ (e.loaded / e.total * 90) + '%');
                }
            });
            xhr.addEventListener('load', function(e){
                let response = xhr.response != undefined ? xhr.response : xhr.responseText;
                if(typeof response == 'string') response = JSON.parse(response);
                response.index = index;
                dropzone.trigger('uploaded', response);
                dropzone.text('La imagen ha sido guardada');
                if(!hideImage){
                	img.attr('src', response.data);
                	dropzone.parent().prepend(img);
                }
                input.val(response.data);
                setTimeout(function(){
                    dropzone.text('Arrastra una imagen aquí si deseas cambiar la imagen del artículo');
                }, 3000);
            });
            xhr.addEventListener('error', function(e){
                dropzone.text('Ocurrio un error al subir la imagen');
            });
            for(var item in dropzone.data()){
                fd.append(item, dropzone.data(item));
            };
            fd.append('file', file);
            xhr.open('POST', uploadUrl);
            xhr.responseType='json';
            xhr.multipart = true;
            xhr.send(fd);
        }
    });
}

$.fn.simulator = function() {
  var name = this.find('#name');
  var phone = this.find('#number');
  var mail = this.find('#mail');
  var state = this.find('#state');
  var value = this.find('#value');
  var hitch = this.find('#hitch');
  var paytype = this.find('#paytype');
  var paytime = this.find('#paytime');
  var self = this;

  var inputs = [
    {input: name, valid: true, rules: 'exist,hasValue'},
    {input: phone, valid: true, rules: 'exist,isNumber,minLength:7,maxLength:10'},
    {input: mail, valid: true, rules: 'exist,validEmail'},
    {input: state, valid: true, rules: 'notEqual:-1'},
    {input: value, valid: true, rules: 'exist,hasValue,isNumber'},
    {input: hitch, valid: true, rules: 'exist,hasValue,isNumber'},
    {input: paytype, valid: true, rules: 'notEqual:-1'},
    {input: paytime, valid: true, rules: 'notEqual:-1'}
  ];

  self.exist = function(value){
    return value != null;
  }

  self.hasValue = function(value){
    return value != '';
  }

  self.isNumber = function(value){
    return !isNaN(value);
  }

  self.hasLength = function(value, params){
    return value.length == params;
  }

  self.minLength = function(value, params){
    return value.length >= params;
  }

  self.maxLength = function(value, params){
    return value.length <= params;
  }  

  self.validEmail = function(value){
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(value);
  }

  self.notEqual = function(value, params){
    return value != params;
  }

  self.biggerThan = function(value, params){
    return value > params;
  }

  self.validate = function(value,rules, cb){
    var success = true;
    var methodI = 0;
    var methods = rules.split(',');
    $.each(methods, function(index, item){
        var method = item.split(':')[0];
        var params = item.split(':')[1];
        var eval = self[method].call(this, value, params);
        if(!eval) success = false;
        methodI++;
        if(methodI == methods.length) cb(success);
    });
  }

  self.find('button[type="submit"]').on('click', function(e){
    e.preventDefault();
    var success = true;

    $.each(inputs, function(index, item){
        item.valid = true;
        item.input.css({'border-color':'#4fa753'});
        self.validate(item.input.val(), item.rules, function(valid){
            if(!valid){
                item.input.css({'border-color': 'red'});
                item.valid = false;
                success = false;
            }
        });
        if(index == inputs.length - 1){
            console.log(success, self);
            if(success) self.find('form').submit();
        };
    });
  });
};

$(document).on('ready', function(){
    $.put = function(url, data, callback, type){
        if ( $.isFunction(data) ){
            type = type || callback,
            callback = data,
            data = {}
        }
        return $.ajax({
            url: url,
            type: 'PUT',
            success: callback,
            data: data,
            contentType: type
        });
    }
    $.delete = function(url, data, callback, type){
        if ( $.isFunction(data) ){
            type = type || callback,
            callback = data,
            data = {}
        }
        return $.ajax({
            url: url,
            type: 'DELETE',
            success: callback,
            data: data,
            contentType: type
        });
    }

    var animateHomeIntro = function(){
        //entrada iconos submenú
        TweenLite.to('.iconSubMenu', 2, { opacity: 1, display: 'block', ease: Power2.easeOut, y: -300});

        //imagenes home
        var section = $('.sub-menu' ).offset().top;
        $(window).scroll(function(){
            var scroll = $(window).scrollTop();
            if(scroll > 550){
                TweenLite.to('.backDiv1', 1.5, { opacity: 1});
                TweenLite.to('.backDiv', .5, { opacity: 1, delay: .5});
            };
        });

        //TweenLite.to('.welcome', 1.5, {opacity: 1, display: "block", ease: Power2.easeOut, y: 150});
        var tl = new TimelineLite({onComplete: function(){ this.restart(); }});
        //imagen 1
        tl.to('.img1', 1, {scale: 2, opacity: 1, display: "block"});
        tl.to('.uno', .5, {opacity: 1, display: "block", ease: Power2.easeOut, y: 120});
        tl.to('.uno', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: -200, delay: 5});
        tl.to('.img1', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: -200}, '-=0.5');
        //imagen 2
        tl.to('.img2', 1, {scale: 2, opacity: 1, display: "block"});
        tl.to('.dos', .5, {opacity: 1, display: "block", ease: Power2.easeOut, y: 100});
        tl.to('.dos', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: -200, delay: 5});
        tl.to('.img2', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: -200}, '-=0.5');
        //imagen 3
        tl.to('.img3', 1, {scale: 2, opacity: 1, display: "block"});
        tl.to('.tres', .5, {opacity: 1, display: "block", ease: Power2.easeOut, y: 100});
        tl.to('.tres', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: -200, delay: 5});
        tl.to('.img3', .5, {opacity: 0, display: "none", ease: Power2.easeOut}, '-=0.5');
    }
    
    var tx = new TimelineLite({onComplete: function(){
        this.restart();
    }});
    tx.to('.imgav1', .5, {opacity: 1, display: "block", ease: Power2.easeOut, x: 5});
    tx.to('.avuno', .5, {opacity: 1, display: "block"});
    tx.to('.avuno', .5, {opacity: 0, display: "none", delay: 4.5});
    tx.to('.imgav1', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: 0});

    tx.to('.imgav2', .5, {opacity: 1, display: "block", ease: Power2.easeOut, x: 5});
    tx.to('.avdos', 1, {opacity: 1, display: "block"});
    tx.to('.avdos', .5, {opacity: 0, display: "none", delay: 4.5});
    tx.to('.imgav2', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: 0});

    tx.to('.imgav3', .5, {opacity: 1, display: "block", ease: Power2.easeOut, x: 5});
    tx.to('.avtres', 1, {opacity: 1, display: "block"});
    tx.to('.avtres', .5, {opacity: 0, display: "none", delay: 4.5});
    tx.to('.imgav3', .5, {opacity: 0, display: "none", ease: Power2.easeOut, x: 0});


    $('.simular').on('click', function(e){
        e.preventDefault ();
        var top = $('.simulador').offset().top;
        TweenLite.to(window, 1, {scrollTo:{y: top}, ease:Power2.easeOut});
    });

    $('.iconMenu').on('click', function (e){
        e.preventDefault ();
        TweenLite.to('.contentMenuCel', .5, { opacity: 1, display: 'block', onComplete: function(){
            TweenLite.to('.iconMenu', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, x: 50});
            TweenLite.to('.iconMenuClose', 1, { opacity: 1, display: 'block', ease: Power2.easeOut, x: 0});
        }});
    });

    $('.iconMenuClose').on('click', function (e){
        e.preventDefault ();
        TweenLite.to('.contentMenuCel', .5, { opacity: 0, display: 'none', onComplete: function(){
            TweenLite.to('.iconMenuClose', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, x: 50});
            TweenLite.to('.iconMenu', 1, { opacity: 1, display: 'block', ease: Power2.easeOut, x: 0});
        }});
    });

    $('.opcionesPro').on('click', function (e){
        e.preventDefault ();
        TweenLite.to('.hiem', .5, { opacity: 1, display: 'block'});
    });

    $('.submenuCel').on('click', function (e){
        e.preventDefault ();
        TweenLite.to('.contenidoSubmenu', 1, { opacity: 1, display: 'block'});
    });

    var menuBehaviors = function(){
        $('.menu').on('click', function (e){
            e.preventDefault ();
            TweenLite.to('.contentMenu', 1, { opacity: 1, display: 'block', ease: Power2.easeOut, x: -300, onComplete: function(){
                TweenLite.to('.menu', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, x: -200});
            }});
        });
    }
    var loginForm = function(){
      $('.login__button').on('click', function(e){
          e.preventDefault();
      	  var username = $('#login-form #user-name').val();
      	  var password = $('#login-form #user-password').val();

          var settings = {
      		    "async": true,
      		    "crossDomain": true,
      		    "url": host_url + "api/v1/login",
      		    "method": "POST",
      		    "data": {
      			       "user_email": username,
      			       "user_password": password
      		    }
      	  }
          $('#login-form .login__button').text('Entrando...');
      	  $.ajax(settings).done(function (response) {
      		    if(response.status == 200){
                  if(response.data.user_role >= 2){
                    window.location = host_url+'admin/microsite';
                  }else{
                    window.location = host_url+'admin/users';
                  }
      		    }else if(response.status == 500) {
      		    	//alert(response.errors);
      			    $('.responses').text(response.errors);
      			    $('.responses').show();
      		    }
      	  });
      });
    }
    var passwordResetForm = function(){
        $('.login__button').on('click', function(e){
            e.preventDefault();
            var email = $('input[name="user_email"]').val();

            $.post(host_url + "api/v1/password_reset", {email: email}, function(response){
                if(response.status == 200){
        			$('.responses').text(response.data);
                    $('.responses').show();
                    //$('#login-form .login__button').text('Entrando...');
        			//window.location = host_url+'admin/users';
        		}else if(response.status == 500) {
        		    $('.responses').text(response.errors);
        		    $('.responses').show();
        		}
            }).fail(function(){
                $('.responses').text('Falló la comunicación con el servidor, inténtalo nuevamente');
                $('.responses').show();
            });
        });
    }
    var usersList = function(){
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": host_url + "api/v1/users",
            "method": "POST"
        }
        $.ajax(settings).done(function (response) {
            var users = response.data;
            var html = '';
            $.each(users, function (index, value) {
                html += '<tr>';
                html += '<td>'+value.name+'</td>';
                html += '<td>'+value.email+'</td>';
                html += '<td>'+value.created_at+'</td>';
                html += '<td class="editInput" data-user="'+value.id+'">editar</td>';
                html += '</tr>';
            });
            $('#usersList tbody').append(html);
        });
    }
    var loadUserinfo = function(){
        $('.containerOffices').on('click', '.editInput' ,function (e){
            e.preventDefault ();
            var userID = $(this).data('user');
            $.get(host_url + "api/v1/users/"+userID, function (response) {
                var user = response.data;
                var profile_img = user.profile_image || host_url + '/img/body/brokerImg.png';
                $('.editarUsuario .datosUsuario .dragdrop').data('user_id', userID);
                $('.editarUsuario .datosUsuario #e_user_name').val(user.name);
                $('.editarUsuario .datosUsuario #e_user_company').val(user.company);
                $('.editarUsuario .datosUsuario #e_user_email').val(user.email);
                $('.editarUsuario .datosUsuario #e_user_id').val(user.id);
                $('.editarUsuario .datosUsuario #e_user_image').css('background-image', 'url('+profile_img+')');
            });
        });
    }
    var deleteUserinfo = function(){
        $('.containerOffices').on('click', '.delete', function(e){
            e.preventDefault();
            var userID = $(this).data('user');
            var container = $(this).parent().parent().parent();
            var response = confirm('Esta acción borrará al usuario del sistema ¿Deseas continuar?');
            if(response){
                $.delete(host_url+"api/v1/users/"+userID, function(){
                    TweenLite.to(container, 0.5, {alpha: 0, onComplete: function(){
                        container.remove();
                    }});
                });
            }
        })
    }
    var updateUserinfo = function(){
        $('.editarUsuario .datosUsuario .update-user').on('click', function(){
            var userID = $('.editarUsuario .datosUsuario #e_user_id').val();
            var data = $('.editarUsuario .datosUsuario').serialize();
            $.put(host_url + "api/v1/users/"+userID, data, function(response){
                if(response.status == 200){
                    $('.responses').text('El usuario se ha actualizado correctamente');
                    $('.responses').show();
                    TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                        TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                        TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
                        location.reload();
                    }});
                }else if(response.status == 500) {
                	alert(response.errors);
                    $('.responses').text(response.errors);
                    $('.responses').show();
                }
            });
        });
    }
    var postsList_view = function(){
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": host_url + "api/v1/post",
            "method": "POST"
        }
        $.ajax(settings).done(function (response) {
            var posts = response.data;
            var html = '';
            $.each(posts, function (index, value) {
                html += '<div>';
                html += '<img src="'+value.post_image+'">';
                html += '<h1>'+value.post_title+'</h1>';
                html += '<a href="'+host_url+'blog/nota?nota='+value.post_id+'" class="vnota">Ver nota</a>';
                html += '<p class="date">Posted on 17 mayo, 2016 by SOC Asesores Hipotecarios</p>';
                html += '</div>';
            });
            $('.container_blog .itemBlog').append(html);
        });
    }
    var postsList = function(){
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": host_url + "api/v1/post",
            "method": "POST"
        }
        $.ajax(settings).done(function (response) {
            var blogpost = response.data;
            var html = '';
            $.each(blogpost, function (index, value) {
                html += '<tr>';
                html += '<td class="viewsite" data-post="'+value.post_title+'">'+value.post_title+'</td>';
                html += '<td class="editInput" data-post="'+value.post_id+'">editar</td>';
                html += '</tr>';
            });
            $('#postList tbody').append(html);
        });
    }
    var loadPostInfo = function(){
        var url = window.location.href;
        var postID = url.split("?nota=");
        postID = postID[1];
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": host_url + "api/v1/post/" +postID,
            "method": "GET"
        }
        $.ajax(settings).done(function (response) {
            var postInfo = response.data[0];
            $('.contenido-nota h1').text(postInfo.post_title);
            $('.contenido-nota .post-image').attr('src',postInfo.post_image);
            $('.contenido-nota .post-content p').text(postInfo.post_content);
        });
    }
    var loadPostinfoEdit = function(){
        $('#postList').on('click', '.editInput' ,function (e){
            e.preventDefault ();
            var postID = $(this).data('post');
            var settings = {
                "async": true,
                "crossDomain": true,
                "url": host_url + "api/v1/post/"+postID,
                "method": "GET",
            }
            $.ajax(settings).done(function (response) {
                var post = response.data;
                $('.editarUsuario .datosUsuario #e_post_id').val(post[0].post_id);
                $('.editarUsuario .datosUsuario #e_post_title').val(post[0].post_title);
                //$('.editarUsuario .datosUsuario #e_post_image').val(post[0].post_image);
                $('.editarUsuario .datosUsuario #e_post_content').val(post[0].post_content);
            });
        });
    }
    var updatePostinfo = function(){
        $('#editPostForm .updatePost').on('click', function(){
            var epost_id = $('#editPostForm #e_post_id').val();
            var epost_title = $('#editPostForm #e_post_title').val();
            console.log(epost_title);

            $('.close').trigger( "click" );
            $.put(host_url + 'api/v1/post/'+epost_id,
                {post_title: epost_title
                }, function(response){
                    if(response.status == 200){
                        $('.responses').text('El sitio se ha actualizado correctamente');
                        $('.responses').show();
                    }else if(response.status == 500) {
                    	alert(response.errors);
                        $('.responses').text(response.errors);
                        $('.responses').show();
                    }
                })
        });
    }
    var sitesList = function(){
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": host_url + "api/v1/sites",
            "method": "GET"
        }
        $.ajax(settings).done(function (response) {
            var sites = response.data;
            var html = '';
            $.each(sites, function (index, value) {
                html += '<tr>';
                html += '<td class="viewsite" data-site="'+value.url+'">'+value.title+'</td>';
                html += '<td class="editInput" data-site="'+value.url+'">editar</td>';
                html += '</tr>';
            });
            $('#sitesList tbody').append(html);
        });
    }
    var loadSiteinfo = function(){
        $('.container-sites').on('click', '.edit' ,function (e){
            e.preventDefault ();
            var siteID = $(this).data('site');
            $.get(host_url + "api/v1/sites/"+siteID, function(response){
                var site = response.data;
                console.log(site);
                var slider = site.slider ? site.slider.split('|') : [];
                var supportQuotes = site.support_quotes ? site.support_quotes.split('|') : ['','',''];
                var supportImages = site.support_images ? site.support_images.split('|') : ['','',''];

                $('#e_siteID').val(site.id);
                $('#e_siteName').val(site.title);
                $('#e_siteUrl').val(site.url);
                $('#e_siteContent').val(site.content);
                $('.editarUsuario .preview').eq(0).attr('src', supportImages[0]);
                $('.editarUsuario .preview').eq(1).attr('src', supportImages[1]);
                $('.editarUsuario .preview').eq(2).attr('src', supportImages[2]);
                $('.editarUsuario textarea').eq(1).text(supportQuotes[0]);
                $('.editarUsuario textarea').eq(2).text(supportQuotes[1]);
                $('.editarUsuario textarea').eq(3).text(supportQuotes[2]);
                $('#e_siteState').val(site.state_id);
                $('#e_siteCity').val(site.city);
                $('#e_siteSettlement').val(site.settlement);
                $('#e_siteAddress').val(site.address);
                $('#e_siteLatlon').val(site.latlon);
                $('#e_siteMails').val(site.emails);
                $('#e_siteTelephone').val(site.phones);
            });
        });
    }
    var viewSite = function(){
        $('#sitesList').on('click', '.viewsite' ,function (e){
            e.preventDefault ();
            var siteURL = $(this).data('site');
            var datauser = ''
            var settings = {
                "async": true,
                "crossDomain": true,
                "url": host_url + "api/v1/sites/"+siteURL,
                "method": "GET",
            }
            $.ajax(settings).done(function (response) {
                var site = response.data;
                console.log(site);
            });
        });
    }
    var updateSiteinfo = function(){
        $('.update-site .updateSite').on('click', function(){
            var siteID = $('.update-site #e_siteID').val();
            $.put(host_url + 'api/v1/sites/'+siteID, $('.update-site').serialize(), function(response){
                $('.responses').text('El sitio se ha actualizado correctamente');
                $('.responses').show();
                if(response.status == 200){
                	TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
	                    TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
	                    TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
	                    location.reload();
	                }});
                }else{
                	alert(response.errors);
                	$('.responses').text(response.errors);
                    $('.responses').show();
                }
            });
        });
    }
    var deleteSiteinfo = function(){
        $('.container-sites').on('click', '.delete', function(e){
            e.preventDefault();
            var siteID = $(this).data('site');
            var container = $(this).parent().parent().parent().parent();
            var response = confirm('Esta acción borrará el sitio del sistema permanentemente ¿Deseas continuar?');
            if(response){
                $.delete(host_url+"api/v1/sites/"+siteID, function(){
                    TweenLite.to(container, 0.5, {alpha: 0, onComplete: function(){
                        container.remove();
                    }});
                });
            }
        })
    }
    var adminUserSitesListeners = function(){
        $('.container-sites').on('click', '.edit', function(e){
            e.preventDefault();
            TweenLite.to('.editarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.plusUser').on('click', function(e){
            e.preventDefault();
            TweenLite.to('.agregarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.close').on('click', function(e){
            e.preventDefault();
            TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
            }});
        });
    }
    var adminUsersListeners = function(){
        $('.containerOffices').on('click', '.editInput' , function (e){
            e.preventDefault();
            TweenLite.to('.editarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.plusUser').on('click', function(e){
            e.preventDefault();
            TweenLite.to('.agregarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.close').on('click', function(e){
            e.preventDefault();
            TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
            }});
        });
    }
    var adminSitesListeners = function(){
        $('#sitesList').on('click', '.editInput' ,function (e){
            e.preventDefault ();
            TweenLite.to('.editarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });

        $('.plusUser').on('click', function (e){
            e.preventDefault ();
            TweenLite.to('.agregarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.close').on('click', function (e){
            e.preventDefault ();
            TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
            }});
        });
    }
    var adminBlogListeners = function(){
        $('#postList').on('click', '.editInput' ,function (e){
            e.preventDefault ();
            TweenLite.to('.editarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });

        $('.plusUser').on('click', function (e){
            e.preventDefault ();
            TweenLite.to('.agregarUsuario', .5, {opacity: 1, display: 'block', onComplete: function(){
                TweenLite.to('.datosUsuario', .5, { opacity: 1, display: 'block', ease: Power2.easeOut, y: 30});
            }});
        });
        $('.close').on('click', function (e){
            e.preventDefault ();
            TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
            }});
        });
    }
    var registerUser = function(){
        $('.agregarUsuario .datosUsuario .registerUserform').on('click', function(){
            $.post(host_url + "api/v1/register", $('.agregarUsuario .datosUsuario').serialize(), function(response){
                if(response.status == 200){
                    $('.responses').text('Se ha creado el usuario correctamente');
                    $('.responses').show();
                    TweenLite.to('.datosUsuario', .5, { opacity: 0, display: 'none', ease: Power2.easeOut, y: 0, onComplete: function(){
                        TweenLite.to('.agregarUsuario', .5, {opacity: 0, display: 'none'});
                        TweenLite.to('.editarUsuario', .5, {opacity:0, display: 'none'});
                        location.reload();
                    }});
                }else if(response.status == 500) {
                	alert(response.errors);
                    $('.responses').text(response.errors);
                    $('.responses').show();
                }
            });
        });
    }
    var registerSite = function(){
    	$('#newSiteForm .addSite').on('click', function(){
            $.post(host_url + "api/v1/sites", $('#newSiteForm').serialize(), function(response){
                $('.close').trigger( "click" );
                
                if(response.status == 200){
                  $('.responses').text('Se ha creado el sitio correctamente');
                  $('.responses').show();
                  location.reload();
                }else if(response.status == 500) {
                	alert(response.errors);
                  $('.responses').text(response.errors);
                  $('.responses').show();
              }
            });
    	});
    }
    var updateBrokerSite = function(){
        var prev = $('#siteUrl').val();
        console.log(prev);
        $('.addSite').on('click', function(){
            $.put(host_url  + "api/v1/sites/" + prev + "?" + $('#newSiteForm').serialize(), function(response){
                console.log(response);
            });
        });
    }
    var findBroker = function(){
        $('#ddlEstados').on('change', function(){
            var state_id = $(this).val();
            $.post(host_url + "api/v1/brokers", {state: state_id}, function(response){
                if(response.status == 500){
                    $('.responses').text(response.errors[0]);
                    TweenLite.set('.contenido', {display: 'none'});
                    TweenLite.set('.responses', {display: 'block', opacity: 0});
                    TweenLite.to('.responses', 0.3, {opacity: 1});
                    return;
                }
                var brokers = response.data;
                $('.contenido').empty();
                $.each(brokers, function(index, value){
                    var phones = value.phones.split(',');
                    var emails = value.emails.split(',');
                    var brokerDiv = $('<div>', {class: 'broker'});

                    brokerDiv.append($('<h1>', {text: value.title}));
                    brokerDiv.append($('<a>', {text: 'Micrositio', href: host_url + value.url}));
                    brokerDiv.append($('<p>', {text: value.city}));
                    brokerDiv.append($('<p>', {text: value.settlement}));

                    for (var i = value.phones.length - 1; i >= 0; i--) {
                        brokerDiv.append($('<a>', {text: phones[i], href: 'tel:'+phones[i]}));
                    }

                    for (var i = value.emails.length - 1; i >= 0; i--) {
                        brokerDiv.append($('<a>', {text: emails[i], href: 'mailto:'+emails[i]}));
                    }

                    brokerDiv.append($('<address>', {text: value.address}));
                    brokerDiv.append($('<a>', {text: 'Ver mapa', href: value.coordinates}));

                    brokerDiv.appendTo('.contenido');
                });
                TweenLite.set('.contenido', {display: 'flex'});
                TweenLite.set('.responses', {display: 'none'});
                TweenMax.staggerFrom('.broker', 0.3, {alpha: 0, y: -10, delay: .1}, .2);
            });
        });
    }
    var simulatorListeners = function(){
        $('.printSimulator').on('click', function(e){
            e.preventDefault();
            print();
        });
    }
    var site = {
        "p-home": function(){
            animateHomeIntro();
            //animateHomeSlider();
            //animateHomePhones();
            $('.simulador .form').simulator();
            menuBehaviors();
        },
        /*"p-detalle": function(){
          loadTheSite();
        },*/
        "p-simulator": function(){
            simulatorListeners();
        },
        "p-offices": function(){
            findBroker();
        },
        "asesores": function(){
            loginForm();
        },
        "microsite": function(){
            updateBrokerSite();
        },
        "password-reset": function(){
            passwordResetForm();
        },
        "admin-users": function(){
            //usersList();
            loadUserinfo();
            adminUsersListeners();
            updateUserinfo();
            deleteUserinfo();
            registerUser();
            $('.agregarUsuario .dragdrop').uploader(host_url+'upload/profile/new','profile_image', true, 'Arrastra una imagen aquí si deseas cambiar la imagen de perfil');
            $('.agregarUsuario .dragdrop').on('uploaded', function(e, response){
                $(this).parent().parent().find('.profile-image').css('background-image', 'url('+response.data+')');
            });
            $('.editarUsuario .dragdrop').uploader(host_url+'upload/profile','profile_image', true, 'Arrastra una imagen aquí si deseas cambiar la imagen de perfil');
            $('.editarUsuario .dragdrop').on('uploaded', function(e, response){
                $(this).parent().parent().find('.profile-image').css('background-image', 'url('+response.data+')');
            });
        },
        "user-sites": function(){
            //$('#gmaps').locationpicker();
            adminUserSitesListeners();
            loadSiteinfo();
            updateSiteinfo();
            deleteSiteinfo();
            registerSite();
            $('.agregarUsuario .dragdrop').uploader(host_url+'upload','support_image', true);
            $('.agregarUsuario .dragdrop').on('uploaded', function(e, response){
                $(this).parent().find('.preview').attr('src', response.data);
            });
            $('.editarUsuario .dragdrop').uploader(host_url+'upload','support_image', true);
            $('.editarUsuario .dragdrop').on('uploaded', function(e, response){
                $(this).parent().find('.preview').attr('src', response.data);
            });
        },
        "admin-sites": function(){
            sitesList();
            adminSitesListeners();
            loadSiteInfo();
            updateSiteInfo();
            viewSite();
            registerSite();
        },
        "post":function(){
            $('.dragdrop').uploader(host_url+'upload', 'image', true);
            $('.dragdrop').on('uploaded', function(e, response){
                $('.preview').attr('src', response.data);
            });
            $('.post_content').trumbowyg();
            //postsList();
            //adminBlogListeners();
            //loadPostinfoEdit();
            //updatePostinfo();
        },
        "p-blog":function(){
            //postsList_view();
        },
        "p_blog_nota":function(){
            //loadPostInfo();
        },
        "upload":function(){
            console.log('Upload script');
        }
    }

    // -  Get the current page
    var currentPage = typeof $('.page').attr('class') != "undefined" ? $('.page').attr('class').split(' ')[1] : "";
    // - Do the behaviors that correspond to the current page
    if(site[currentPage]) site[currentPage]();
});
